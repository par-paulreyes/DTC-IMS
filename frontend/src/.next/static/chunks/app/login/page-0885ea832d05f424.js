(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[520],{5611:(e,t,s)=>{"use strict";s.d(t,{VG:()=>n,e9:()=>l});let a=s(4089).env.NEXT_PUBLIC_API_URL||"http://192.168.100.188:5000",l=e=>"".concat(a,"/api").concat(e),n=e=>e?e.startsWith("http")?e:"".concat(a).concat(e):""},8404:(e,t,s)=>{Promise.resolve().then(s.bind(s,9519))},9519:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>d});var a=s(3365),l=s(1521),n=s(627),r=s(8660),i=s(5611);function d(){let[e,t]=(0,l.useState)(""),[s,d]=(0,l.useState)(""),[c,u]=(0,l.useState)(!1),[o,m]=(0,l.useState)(""),h=(0,n.useRouter)(),b=async t=>{t.preventDefault(),u(!0),m("");try{let t=await r.A.post((0,i.e9)("/auth/login"),{username:e,password:s});localStorage.setItem("token",t.data.token),h.push("/")}catch(e){var a,l;m((null==(l=e.response)||null==(a=l.data)?void 0:a.message)||"Login failed")}finally{u(!1)}};return(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:(0,a.jsxs)("form",{onSubmit:b,className:"bg-white p-8 rounded shadow-md w-full max-w-md",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold mb-6 text-center",children:"Login"}),o&&(0,a.jsx)("div",{className:"mb-4 text-red-500",children:o}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("label",{className:"block mb-1 font-medium",children:"Username"}),(0,a.jsx)("input",{type:"text",className:"w-full border rounded px-3 py-2",value:e,onChange:e=>t(e.target.value),required:!0})]}),(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("label",{className:"block mb-1 font-medium",children:"Password"}),(0,a.jsx)("input",{type:"password",className:"w-full border rounded px-3 py-2",value:s,onChange:e=>d(e.target.value),required:!0})]}),(0,a.jsx)("button",{type:"submit",className:"w-full bg-blue-600 text-white py-2 rounded hover:bg-blue-700 transition",disabled:c,children:c?"Logging in...":"Login"})]})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[602,347,870,358],()=>t(8404)),_N_E=e.O()}]);